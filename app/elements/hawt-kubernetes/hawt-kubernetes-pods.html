<link rel="import" href="../../components/paper-toast/paper-toast.html">
<link rel="import" href="../../components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../components/paper-dropdown/paper-dropdown.html">
<link rel="import" href="../../components/core-menu/core-menu.html">
<link rel="import" href="hawt-kubernetes-model.html">

<polymer-element name="hawt-kubernetes-pods" attributes="namespace">
  <template>
    <style>
      .pod {
        background-color: #fafafa;
        padding: 16px;
        border-bottom: 1px solid #e0e0e0;
        will-change: transform, opacity;
      }
      .pod[selected] {
        background-color: silver;
      }
    </style>

    <paper-toast id="errorToast" text="{{errorMessage}}"></paper-toast>

    <paper-dropdown-menu label="Select a namespace">
      <paper-dropdown class="dropdown" transition="core-transition-top">
      <core-menu class="menu" selected="0" valueattr="id" selectedModel="{{selectedNamespace}}">
          <template repeat="{{namespace in namespaces}}">
            <paper-item>{{namespace.id}}</paper-item>
          </template>
        </core-menu>
      </paper-dropdown>
    </paper-dropdown-menu>

    <core-selector selectedAttribute="selected" selected="{{selectedPods}}" multi>
      <template repeat="{{pod in pods}}">
        <div class="pod" layout horizontal>
          <div flex layout horizontal>
            <header layout vertical flex>
              <span layout horizontal>
                <span class="name">
                  {{pod.id}}
                </span>
                <span class="ip">
                  ({{pod.currentState.podIP}})
                </span>
                <span class="host">
                  ({{pod.currentState.host}})
                </span>
              </span>
              </span>
            </header>
          </div>
        </div>
      </template>
    </core-selector>
                                                                                                                                                               </core-selector>
  </template>

  <script src="hawt-kubernetes-pods.js"></script>
</polymer-element>
