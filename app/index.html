<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>hawt webcomponents</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

  <!-- build:css /styles/main.css -->
  <link rel="stylesheet" href="/styles/roboto.css">
  <link rel="stylesheet" href="/styles/main.css" shim-shadowdom>
  <!-- endbuild-->

  <!-- build:js /scripts/conditional-webcomponents.js -->
  <script src="/scripts/conditional-webcomponents.js"></script>
  <!-- endbuild -->

  <!-- build:vulcanized /elements/elements.vulcanized.html -->
  <link rel="import" href="/elements/elements.html">
  <!-- endbuild-->

</head>

<body unresolved fullbleed layout vertical>

  <core-style id="coverimgstyle">
    #coverImg::after {
      background-image: url({{g.logo}});
    }
  </core-style>
  <template id="t" is="auto-binding">
    <core-style ref="coverimgstyle"></core-style>
    <hawt-perspectives id="perspectives"></hawt-perspectives>
    <core-drawer-panel id="drawerPanel" narrow="{{narrow}}">
      <core-header-panel mode="scroll" drawer>
        <core-toolbar id="coverImg">
          {{branding.name}}
        </core-toolbar>
        <core-menu selected="{{selectedPerspectiveIndex}}" excludedLocalNames="div" on-core-select="{{onPerspectiveSelect}}" on-core-activate="{{onPerspectiveTapped}}">
          <template repeat="{{perspective in perspectives}}">
            <paper-item>
              <template if="{{perspective.icon}}">
                <core-icon icon="{{perspective.icon}}"></core-icon>
              </template>
              <template if="{{perspective.image}}">
                <core-icon src="{{perspective.image}}"></core-icon>
              </template>
              {{perspective.label}}
            </paper-item>
          </template>
        </core-menu>
      </core-header-panel>

      <core-scroll-header-panel fixed="true" main on-trackstart="{{onRefreshStart}}"  on-tracky="{{onMainAreaTrack}}" on-trackend="{{onRefreshUp}}">
        <core-toolbar class="{{ {'core-narrow': narrow} | tokenList }}">
        <paper-icon-button src="/images/hawtio_icon.png" core-drawer-toggle></paper-icon-button>
          <span class="title">
            <template if="{{!narrow && currentPerspective.icon}}">
              <core-icon icon="{{currentPerspective.icon}}"></core-icon>
            </template>
            <template if="{{!narrow && currentPerspective.image}}">
              <core-icon src="{{currentPerspective.image}}"></core-icon>
            </template>
            {{currentPerspective.label}}
          </span>
        </core-toolbar>
        <div content>
          <app-router mode="pushstate" trailingSlash="ignore" on-state-change="{{appRouterStateChange}}" id="perspectiveRouter" init="manual">
            <template repeat="{{perspective in perspectives}}">
              <template if="{{perspective.import}}">
                <app-route path="{{perspective.path}}" import="{{perspective.import}}"></app-route>
              </template>
              <template if="{{perspective.element}}">
                <app-route path="{{perspective.path}}" element="{{perspective.element}}"></app-route>
              </template>
              <template if="{{perspective.redirect}}">
                <app-route path="{{perspective.path}}" redirect="{{perspective.redirect}}"></app-route>
              </template>
            </template>
          </app-router>
         </div>
      </core-scroll-header-panel>
    </core-drawer-panel>
  </template>

  <!-- build:js /scripts/app.js -->
  <script src="/bower_components/underscore/underscore.js"></script>
  <script src="/scripts/app.js"></script>
  <script src="/scripts/vendor.js"></script>
  <!-- endbuild-->
</body>

</html>
